experiment:
  name: "offline_robustness"
  run_id: null
  n_jobs: 1
  save_parquet: true

data:
  dataset: "retailrocket"
  temporal_split:
    train_end: "2015-06-01"
    val_end: "2015-06-15"
  sample_mod: 200
  candidate_size: 2000

eval:
  k: 10
  metrics: ["hit", "ndcg", "coverage", "diversity"]
  bootstrap:
    enabled: true
    n_resamples: 300
    unit: "user"

models:
  - name: "popularity"
    params: {}
  - name: "time_decay_popularity"
    params:
      half_life_days: 14
  - name: "user_cf"
    params:
      similarity: "cosine"
      min_common_items: 2
      top_neighbors: 50
  - name: "als"
    params:
      factors: 64
      reg: 0.01
      iterations: 30
      alpha: 1.0
  - name: "lightgcn"
    params:
      dim: 64
      num_layers: 3
      num_neg: 1
      lr: 1e-3
      batch_size: 2048
      epochs: 50
      eval_k: 10
      eval_every: 5
      patience: 5
      score_batch: 512
      save_artifacts: false
  - name: "hybrid_rule"
    params:
      cold: "popularity"
      light: "time_decay_popularity"
      heavy: "user_cf"

repro:
  seed: 42
